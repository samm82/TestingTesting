\ifnotpaper\section{Tools}
\else\subsection{Tools}
\fi\label{tools}

\ifnotpaper
    To better understand our findings, we build tools to
    visualize relations between test approaches (\Cref{app-rel-vis}) and
    automatically analyze their flaws (\Cref{flaw-analysis}). Doing
    this manually would be error-prone or even overlooked due to the amount of
    data involved (for example, we identify \approachCount{} test approaches)
    and the number of situations where the underlying data would change, such
    as adding to it, further analyzing it, or correcting it. % These all require
    % tedious updates to the corresponding visualizations that may be overlooked
    % or done incorrectly, so automating these processes allows for our results
    % to be reproduced (by us or others) and account for new data.
    % Besides being more systematic, automation also allows us to observe the
    % impacts of smaller changes, such as unexpected flaws that arise from a
    % new relation between two approaches. It also helps us verify the tools
    % themselves; for example, tracking a flaw manually should affect relevant
    % flaw counts, which we can double-check.
    We also define \LaTeX{} macros (\Cref{macros}) to help achieve our
    goals of maintainability, traceability, and reproducibility.

    \subsection{Approach Relation Visualization}\label{app-rel-vis}
\else
    % Moved here to display nicely in paper
    \flawMnfstsTable{}
    \flawDmnsTable{}
\fi

To better understand the relations between test approaches, we develop a tool
to generate visualizations of these relations automatically. \ifnotpaper%
    % We can describe these graphs formally as ordered triplets
    %     $G = (A, S, P)$, where:  % Format based on https://en.wikipedia.org/wiki/Graph_theory
    %     \begin{itemize}
    %         \item $T$ is the set of terms assigned to test approaches by the
    %               literature,
    %         \item $A \subseteq T$ is a subset of the \approachCount{} test
    %               approaches we record as rows in \ourApproachGlossary{} that
    %               function as the vertices of the graph,
    %         \item $S \subseteq \left\{ \{x, y\} \mid x, y \in T \,\textrm{ and }\,
    %                   (x \in A \,\textrm{ or }\, y \in A) \,\textrm{ and }\, x \neq y \right\}$
    %               is a subset of our identified synonym relations (defined
    %               in \Cref{syn-rels}) that function as edges, and
    %         \item $P \subseteq \left\{(x,y) \mid (x, y) \in A^2 \right\}$ is a
    %               subset of our identified parent-child relations (defined in
    %               \Cref{par-chd-rels}) that also function as edges.
    %     \end{itemize}
    Since we use a consistent format to track synonym and parent-child
    relations (defined in \Cref{syn-rels,par-chd-rels}, respectively)
    between approaches in \ourApproachGlossary{}, we can parse them
    systematically. For example, if the entries in \Cref{tab:exampleGlossary}
    appear, then their parent-child relations are visualized as
    shown in \Cref{fig:exampleGraph}. Overall, the parent-child relations
    between test approaches \emph{should} result in something resembling a
    hierarchy (or multiple discrete hierarchies), although this is not the case
    due to flaws in the literature (see \Cref{selfParDef}). Therefore, we
    visualize all parent-child relations as they are guaranteed to be
    visually meaningful.

    \clearpage
    \input{build/exampleGlossary.tex}
    \ExampleParChdGraphs{}
    \clearpage
\fi%
% For a given synonym pair to
% be captured by our methodology, at least one term will have its own row in its
% relevant glossary.
However, since each term is trivially a synonym of itself and there are many
non-problematic synonyms that do not imply flaws (see \Cref{syn-rels}),
we only visualize the synonym relations that may indicate flaws given in
\Cref{relevantSyns}; i.e., intransitive synonyms and synonyms between
independently defined approaches.
% We then decide whether to include or exclude the synonym
% pair from our generated graphs based on the following possible cases:
% \begin{enumerate}
%     % \item[1. (Excluded)] \phantomsection{}\label{syn-case-one}
%     %       \hfill \ifnotpaper
%     %           $\left\{ \{x, y\} \in S \mid x \in A \,\textrm{ xor }\, y \in A \right\}$
%     %       \fi \break
%     %       \textbf{Only one synonym has its own row.}
%     %       This is a ``typical'' synonym relation (see \Cref{syn-rels}) where
%     %       the terms are interchangeable. We \emph{could} include the synonym
%     %       as an alternate name inside the node of its partner, but we do not
%     %       want to clutter our graphs unnecessarily.
%     \item%[2. (Included)] \phantomsection{}\label{syn-case-two}
%           %   \hfill \ifnotpaper
%           %       $\left\{ \{x, y\} \in S \mid x, y \in A \right\}$
%           %   \fi \break
%           \textbf{Synonyms between approaches defined independently.}\hfill\break
%           If two separate approaches have their own definitions, nuances,
%           etc.~but are also labelled as synonyms, this may indicate that the
%           two terms are interchangeable and could be merged \emph{or} that
%           either their definitions or this synonym relation is incorrect.
%           % TODO: pretty hacky
%           % into one row, which would result in \hyperref[syn-case-one]{Case 1} above.
%     \item%[3. (Included)] \phantomsection{}\label{syn-case-three}
%           %   \hfill \ifnotpaper
%           %       $\left\{ \{x, z\}, \{y, z\} \in S \mid x, y \in A \,\textrm{ and }\,
%           %           z \notin A \right\}$
%           %   \fi \break
%           \textbf{Synonyms that violate transitivity.}\hfill\break
%           If two distinct approaches share a synonym, that implies that they
%           are synonyms themselves. If they are \emph{not}, one or more
%           relations may be incorrect or missing.
% \end{enumerate}
\ifnotpaper
    We deduce these conditions from the information we parse from our glossary.
    For example, if the entries in \Cref{tab:synExampleGlossary} appear, then
    they are visualized as shown in \Cref{fig:exampleSynGraph} (note that X
    does not appear since it is not defined independently and does not violate
    transitivity).

    \input{build/synExampleGlossary.tex}
    \ExampleSynGraph{}

    \phantomsection{}\label{visExplicit}
    Since we also track the ``explicitness'' of information (defined in
    \Cref{explicitness}), we can represent explicit \emph{and} implicit
    relations without double counting them during the analysis in
    \Cref{flaw-analysis}. If a relation is both explicit \emph{and} implicit,
    we only display the implicit relation if its source is from a more
    credible source tier (see \Cref{cred,source-tiers}). For example, if
    ``StdAuthor'' from \Cref{tab:synExampleGlossary} is an author of an
    established standard, then we display the implicit relation from their
    document alongside the explicit one from ``Author'' as shown in
    \Cref{fig:exampleSynGraph}.
    % For example, only the explicit synonym relation between E and F
    % from \Cref{tab:exampleGlossary} appears in \Cref{fig:synExampleGraph}.
    Implicit approaches and relations are denoted by dashed lines, as shown in
    \Cref{fig:exampleGraph,fig:exampleSynGraph}, while explicit approaches are
    \emph{always} denoted by solid lines, even if they are also implicit. We
    can also generate ``explicit'' versions of these visualizations that exclude
    implicit approaches and relations; for example, \Cref{fig:expExampleGraph}
    is the explicit version of \Cref{fig:exampleGraph}. %, and
    % \Cref{fig:expSynGraph} likewise only contains explicit approaches and
    % synonym relations

    We also colour each relation according to its source tier, which is
    possible because we cite all recorded relations as described in
    \Cref{record-cites}. Each source tier gets its own colour, which we label
    for each relevant source tier in a given visualization's legend
    (such as \Cref{fig:exampleSynGraph}), although we omit this
    colouring from \Cref{fig:exampleParChdGraphs,fig:exampleFlawGraphs} for
    clarity. We also only display the relation with the most credible source
    tier (except if there is a more credible implicit relation as we previously
    describe). Finally, we also colour inferences (see \Cref{infers}) grey and
    proposals (see \Cref{recs}) orange, such as in \recFigs{}.

\fi
These visualizations tend to be large, so it is often useful to focus on
specific subsets of them. \ifnotpaper For each approach category (defined in
    \Cref{cats-def}), we generate a visualization restricted to its approaches
    and the relations between them. We also generate a visualization of all static
    approaches along with the relations between them \emph{and} between a
    static approach and a dynamic approach. This static-focused visualization is
    notable because static testing is sometimes considered to be a separate
    approach category (see \flawref{static-test-flaw}). Since dynamic
    approaches are our primary focus (see \Cref{static-test}), we include them
    in this static visualization, colouring their nodes grey to distinguish them.
    %, as in \Cref{fig:staticExampleGraph}, 
    We can also \else We can \fi generate more focused visualizations from a
given subset of approaches, such as \ifnotpaper\else those in a selected
    approach category (defined in \Cref{cats-def}) or \fi those pertaining to
recovery testing. % or scalability.
% These areas are of particular note as we discuss their
% flaws in their own sections (\Cref{recov-flaw,scal-flaw}, respectively).
We use these visualizations to better understand the relations within these
subsets of approaches, but we can also update them based on
our recommendations \ifnotpaper in \Cref{recs} \fi by specifying sets of
approaches and relations to add or remove. % given \else; the latter are shown
% \fi in \Cref{fig:rec-graph-current,fig:scal-graph-current}, respectively.
% applying those given in \Cref{rec-test-rec,,scal-test-rec,,\ifnotpaper\else%
%         perf-test-rec\fi} results in the updated graphs in
% \Cref{fig:rec-graph-proposed,,fig:scal-graph-proposed,,\ifnotpaper\else%
%         fig:perf-graph\fi}, respectively.
% \ifnotpaper
% Recommendations can also be inherited; for example, we generate
% \Cref{fig:perf-graph} based on the modifications we apply to
% \Cref{fig:rec-graph-proposed,fig:scal-graph-proposed} and
% other changes from \Cref{perf-test-rec}. \fi
\ifnotpaper
    \input{chapters/04a_flaw_analysis}
\else
    When doing so in \Cref{recs}, we colour any proposed approaches
    or relations orange to distinguish them.
\fi
